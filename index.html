<!DOCTYPE html>
<html lang="en">
<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js"></script>
  <script src="https://unpkg.com/ml5@latest/dist/ml5.min.js"></script>
  <style>
    body { margin: 0; display: flex; justify-content: center; background: #1a1a1a; }
    canvas { border: 2px solid #d4af37; }
  </style>
</head>
<body>
<script>
  let faceMesh;
  let video;
  let faces = [];

  function preload() {
    // Load the FaceMesh model
    faceMesh = ml5.faceMesh({ maxFaces: 1, refineLandmarks: false });
  }

  function setup() {
    createCanvas(640, 480);
    video = createCapture(VIDEO);
    video.size(640, 480);
    video.hide();
    faceMesh.detectStart(video, gotFaces);
  }

  function gotFaces(results) {
    faces = results;
  }

  function draw() {
    image(video, 0, 0, width, height);

    if (faces.length > 0) {
      let face = faces[0];
      
      // Draw Dragon "Mapping" Lines
      stroke(0, 255, 100); // Dragon green
      strokeWeight(2);
      noFill();

      // Example: Mapping the jawline into a dragon's snout
      beginShape();
      for (let i = 0; i < face.keypoints.length; i++) {
        let keypoint = face.keypoints[i];
        
        // Add "Jitter" or scaling to make it look more reptilian
        let x = keypoint.x;
        let y = keypoint.y;
        
        // Logic to extend the nose/mouth area could go here
        vertex(x, y);
      }
      endShape();

      // Draw "Glowing Dragon Eyes"
      fill(255, 200, 0, 150);
      let leftEye = face.keypoints[159];
      let rightEye = face.keypoints[386];
      ellipse(leftEye.x, leftEye.y, 20, 30);
      ellipse(rightEye.x, rightEye.y, 20, 30);
    }
  }
</script>
</body>
</html>

